## 1. Вычислительные средства компьютера

**Устройство микропроцессоров (CPU):**
Это «мозг» компьютера. Основные компоненты:
* **Регистры:** Сверхбыстрая память внутри процессора для временного хранения данных (аккумуляторы, счетчики команд, указатели стека).
* **АЛУ (Арифметико-логическое устройство):** Блок, выполняющий математические (сложение, вычитание) и логические (AND, OR, NOT) операции.
* **Устройство управления (CU):** Дешифрует инструкции и управляет потоками данных.

**Устройство оперативной памяти (RAM):**
Это энергозависимая память. Представляет собой массив ячеек, каждая из которых имеет свой адрес. Данные доступны процессору напрямую. Используется для хранения кода запущенных программ и их данных.

## 2. Основные функции операционных систем (ОС)

**Функции:**
1.  Управление ресурсами (CPU, память, диски).
2.  Управление процессами и потоками.
3.  Обеспечение безопасности и разграничения прав доступа.
4.  Предоставление пользовательского интерфейса и API для программ.
5.  Абстракция аппаратного обеспечения (драйверы).

**Виды операционных систем:**
* **Пакетные (Batch):** Выполняют задания последовательно без участия пользователя.
* **Разделения времени (Time-sharing):** Дают иллюзию одновременной работы для нескольких пользователей (UNIX).
* **Реального времени (RTOS):** Гарантируют реакцию системы за строго определенное время (QNX, VxWorks).
* **Сетевые и Распределенные.**

## 3. Системное программное обеспечение

**Определение:** ПО, предназначенное для обеспечения работы аппаратуры и прикладных программ, а не для решения конкретных задач пользователя.

**Типы и примеры:**
1.  **Базовое ПО:** Операционные системы (Windows, Linux), BIOS/UEFI.
2.  **Сервисное ПО (Утилиты):** Архиваторы, антивирусы, программы для разметки дисков.
3.  **Инструментальное ПО:** Компиляторы, линковщики, отладчики.
4.  **Драйверы устройств:** Прослойка между ОС и железом.

## 4. Структура операционной системы. Ядро

**Ядро (Kernel):** Центральная часть ОС, обеспечивающая доступ приложений к ресурсам компьютера. Работает в привилегированном режиме (Kernel space).

**Виды ядер:**
1.  **Монолитное (Linux, MS-DOS):** Все сервисы (драйверы, ФС, управление памятью) работают в одном адресном пространстве. *Плюс:* скорость. *Минус:* сбой драйвера может обрушить всю систему.
2.  **Микроядро (Minix, QNX):** В ядре только минимум (планировщик, IPC), остальное вынесено в пространство пользователя. *Плюс:* надежность. *Минус:* накладные расходы на обмен сообщениями.
3.  **Гибридное (Windows NT, macOS):** Компромисс между первыми двумя.

## 5. Системные вызовы (System Calls)

**Назначение:** Это интерфейс, с помощью которого программа (User space) просит ядро (Kernel space) выполнить действие (открыть файл, создать процесс, послать данные в сеть).

**Типы:**
* Управление процессами (`fork`, `exit`).
* Управление файлами (`open`, `read`, `write`).
* Управление устройствами.
* Информационные.

**В Linux:** Реализуются через программные прерывания (инструкция `syscall` или `int 0x80`). Стандартная библиотека C (`glibc`) предоставляет обертки (wrappers) для системных вызовов.

## 6. Процессы

**Определение:** Программа в стадии выполнения. Включает код, данные, стек, счетчик команд и ресурсы (дескрипторы файлов).

**Жизненный цикл:**
1.  Создание (New).
2.  Готовность (Ready).
3.  Исполнение (Running).
4.  Ожидание/Блокировка (Waiting).
5.  Завершение (Terminated).

**В Linux:**
* **Родительские и дочерние:** Процессы образуют дерево. Главный процесс — `init` (или `systemd`) с PID=1.
* `fork()`: Системный вызов, создающий точную копию текущего процесса (дочерний).
* `wait()`: Системный вызов, заставляющий родителя ждать завершения дочернего процесса (чтобы избежать появления процессов-зомби).

## 7. Потоки (Threads)

**Определение:** Наименьшая единица исполнения внутри процесса. Потоки одного процесса делят общую память (кучу, глобальные переменные), но имеют свой стек и регистры.

**Особенности:**
* Переключение между потоками быстрее, чем между процессами.
* **Проблемы:** Состояния гонки (Race conditions), взаимные блокировки (Deadlocks). Требуют синхронизации (мьютексы, семафоры).

**Pthreads (POSIX Threads):** Стандарт реализации потоков в Unix-подобных системах. Библиотека `pthread.h`. Пример функций: `pthread_create`, `pthread_join`.

## 8. Межпроцессное взаимодействие (IPC) — Часть 1

**Сигналы (Signals):** Асинхронные уведомления процесса о событии.
* Примеры: `SIGINT` (Ctrl+C), `SIGKILL` (принудительное завершение), `SIGSEGV` (ошибка памяти).

**Сокеты (Sockets):** Универсальный интерфейс для обмена данными между процессами, как на одной машине (Unix domain sockets), так и по сети (TCP/IP). Работают по принципу клиент-сервер.

## 9. Межпроцессное взаимодействие (IPC) — Часть 2

**Каналы (Pipes):**
* **Неименованные (`|` в bash):** Однонаправленная передача данных от родственного процесса к другому (вывод одного становится вводом другого).
* **Именованные (FIFO):** Существуют в виде специального файла в ФС, доступны неродственным процессам.

**Разделяемая память (Shared Memory):** Самый быстрый способ IPC. Ядро отображает один и тот же участок физической памяти в адресные пространства разных процессов. Требует тщательной синхронизации доступа.

## 10. Менеджмент памяти

**Виртуализация памяти:** Процесс "думает", что у него есть сплошная память от 0 до Max, но физически данные могут быть разбросаны по RAM или лежать на диске (swap).

**Методы:**
1.  **Страничная организация (Paging):** Память делится на блоки фиксированного размера (страницы, обычно 4 КБ). Таблица страниц транслирует виртуальные адреса в физические.
2.  **Сегментация:** Память делится на логические блоки разной длины (код, стек, данные).

## 11. Адресное пространство процесса в Linux

Обычно (для 32-битных систем) делится на:
1.  **User Space (0-3 ГБ):**
    * *Text segment:* Код программы (read-only).
    * *Data segment:* Глобальные переменные.
    * *Heap (Куча):* Динамически выделяемая память (`malloc`). Растет вверх.
    * *Stack (Стек):* Локальные переменные, адреса возврата функций. Растет вниз.
2.  **Kernel Space (3-4 ГБ):** Память ядра, недоступная процессу напрямую.

## 12. Жесткие диски и RAID

**HDD:** Состоит из пластин, головок чтения/записи, шпинделя. Данные хранятся на дорожках и секторах.
**Ввод-вывод:** Работает через контроллеры и драйверы, часто с использованием DMA (Direct Memory Access).

**RAID (Redundant Array of Independent Disks):**
* **RAID 0:** Чередование (Stripe). Скорость x2, надежность 0 (сдох один — потеряли всё).
* **RAID 1:** Зеркалирование (Mirror). Надежность x2, скорость записи та же, чтение быстрее.
* **RAID 5:** Чередование с четностью. Баланс скорости и надежности.

## 13. Файловая система (ФС)

**Структура:**
* **Boot block:** Загрузчик.
* **Superblock:** Метаданные всей ФС (размер, свободные блоки).
* **Inode (Индексный дескриптор):** Описывает файл (права, владелец, ссылки на блоки данных), но не содержит имени файла.

**VFS (Virtual File System):** Абстрактный слой ядра Linux, позволяющий программам одинаково работать с разными ФС (ext4, NTFS, FAT32) через единые вызовы (`open`, `read`).

**Монтирование:** Процесс подключения файловой системы к определенной директории (точке монтирования) в общем дереве каталогов.

## 14. Интерфейс операционной системы

1.  **CLI (Command Line Interface):** Текстовый ввод команд (Bash, PowerShell). Экономичен к ресурсам, удобен для автоматизации (скрипты), высокий порог вхождения.
2.  **GUI (Graphical User Interface):** Окна, иконки, мышь (Windows, macOS, GNOME/KDE). Интуитивен, но потребляет много ресурсов.
3.  **SILK (Speech, Image, Language, Knowledge):** Голосовые и жестовые интерфейсы (Siri, VR).

## 15. Операционная система Linux

**История:** Создана Линусом Торвальдсом в 1991 году как хобби-проект. Базируется на принципах UNIX.
**Особенности:** Open Source (GPL), монолитное ядро с модулями, многопользовательская, переносимая.
**Области применения:** Серверы (веб, базы данных), суперкомпьютеры (Top500), встраиваемые системы (Android, роутеры), десктопы.
**Дистрибутивы:**
* Debian-based: Ubuntu, Mint.
* RPM-based: Fedora, CentOS, RHEL.
* Специальные: Arch, Gentoo, Kali.

## 16. Системные и прикладные программы в Linux

* **Текстовые редакторы:** `vim`, `nano` (консольные), `gedit` (графический).
* **Фильтры:** Утилиты, преобразующие поток данных. `grep` (поиск), `awk`, `sed` (редактирование потока), `sort`, `head`/`tail`.
* **Компиляторы:** `gcc` (GNU Compiler Collection), `clang`.
* **Оболочки (Shell):** `bash`, `zsh`, `sh`. Интерпретируют команды пользователя и запускают программы.

## 17. Компиляция программ (на примере GCC)

Процесс превращения исходного кода (`.c`) в исполняемый файл проходит 4 стадии:
1.  **Препроцессинг (`gcc -E`):** Обработка директив `#include`, `#define`, удаление комментариев.
2.  **Компиляция (`gcc -S`):** Перевод кода C в ассемблерный код.
3.  **Ассемблирование (`gcc -c`):** Перевод ассемблера в машинный код (объектный файл `.o`).
4.  **Линковка (Компоновка):** Сборка объектных файлов и библиотек в один исполняемый файл.

## 18. Структура каталогов Linux (FHS) и типы файлов

**Filesystem Hierarchy Standard:**
* `/` (root) — корень.
* `/bin`, `/usr/bin` — исполняемые файлы пользователей.
* `/etc` — конфигурационные файлы.
* `/home` — домашние папки пользователей.
* `/var` — изменяемые данные (логи, кэш).
* `/dev` — файлы устройств.
* `/proc`, `/sys` — виртуальные ФС с информацией о системе.

**Типы файлов:** (первый символ в `ls -l`):
* `-` : Обычный файл.
* `d` : Директория.
* `l` : Символическая ссылка.
* `b`/`c` : Блочные/символьные устройства.
* `s` : Сокет.

## 19. Права доступа к файлам в Linux

**Базовые (rwx):**
Три группы прав: Владелец (User), Группа (Group), Остальные (Others).
* `r` (read) — чтение.
* `w` (write) — запись/изменение.
* `x` (execute) — исполнение (для директории — право входа в нее).
Пример: `drwxr-xr--` (754).
Команда смены прав: `chmod`.

**Расширенные:**
* **SUID/SGID:** Запуск файла с правами владельца/группы, а не запустившего (например, команда `passwd`).
* **Sticky Bit:** Запрещает удаление чужих файлов в общей папке (например, в `/tmp`).
* **ACL (Access Control Lists):** Более гибкая настройка прав для конкретных пользователей.
